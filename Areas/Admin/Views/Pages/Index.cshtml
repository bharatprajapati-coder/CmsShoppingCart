@model IEnumerable<Page>

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";

}

<div class="container">
        <div class="d-flex justify-content-between align-items-center p-3">
            <h1 class="col-md-2">Index</h1>
            <div class="col-md-4 d-flex justify-content-end">
                <a asp-action="Create" class="btn btn-outline-secondary rounded">Create New</a>
            </div>
        </div>
    </div>
    

<table class="table table-hover text-center ">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Id)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Title)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Slug)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Content)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Sorting)
            </th>
            <th>
                @Html.DisplayName("Actions")
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr class="btn-out align-items-center justify-content-center">
                <td>
                    @Html.DisplayFor(modelItem => item.Id)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Title)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Slug)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Content)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Sorting)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", "Pages", new { id = item.Id }, new { @class = "btn btn-outline-info text-black algin-items-center" })
                    @Html.ActionLink("Details", "Details", null, new { id = item.Id }, new { @class = "btn btn-outline-dark" })
                    @if(item.Slug != "home")
                    {
                        @Html.ActionLink("Delete", "Delete", null, new { id = item.Id }, new { @class = "btn btn-outline-danger text-black" })
                        
                    }
                </td>
            </tr>
        }
    </tbody>
</table>

<script>
    $(document).ready(function () {
        var message = '@Html.Raw(ViewBag.message)';
        var type = '@Html.Raw(ViewBag.Type)';

        if (message !== '' && type !== '') {
            toastr[type](message);
        }
    });
</script>